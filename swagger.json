{
    "openapi": "3.0.0",
    "info": {
        "version": "1.0.0",
        "title": "Main server to MWA interface /interakcija",
        "description": "Server that allows communication between two or more clients. The paths for the server are relative. Each client gets their own folder as root.",
        "license": {
            "name": "si-grupa5.herokuapp.com",
            "url": "https://si-grupa5.herokuapp.com/"
        }
    },
    "servers": [
        {
            "url": "https://si-grupa5.herokuapp.com"
        }
    ],
    "tags": [
        {
            "name": "Screenshot"
        },
        {
            "name": "Command"
        },
        {
            "name": "Agent"
        },
        {
            "name": "UserFiles"
        },
        {
            "name": "AgentFiles"
        },
        {
            "name": "Socket"
        }
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "schemes": ["https"],
    "paths": {
        "/login": {
            "post": {
                "tags": [
                    "Socket"
                ],
                "summary": "Check if agent is allowed to open socket connection",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type":"object",
                                "properties": {
                                    "id": {
                                        "type":"string",
                                        "example": "Unique id"
                                    }
                                }
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "message": {
                                            "type":"string",
                                            "example":"Session updated"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized attempt",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "error": {
                                            "type":"string",
                                            "example":"Id not valid!"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },

        "/api/agent/screenshot": {
            "post": {
                "tags": [
                    "Screenshot"
                ],
                "summary": "Screenshot from agent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/screenshot"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/200"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Agent is not connected to the server",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/command": {
            "post": {
                "tags": [
                    "Command"
                ],
                "summary": "Execute a command on the agent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/command"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/command200"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Agent is already in use",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },

        "/api/agent/disconnect": {
            "post": {
                "tags": [
                    "Agent"
                ],
                "summary": "Disconnect a client",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agent"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/disconnected"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Agent can't be disconnected",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/connect": {
            "post": {
                "tags": [
                    "Agent"
                ],
                "summary": "Connect a client",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agent"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/connected"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Agent can't be connected",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agents/online": {
            "get": {
                "tags": [
                    "Agent"
                ],
                "summary": "Get all connected clients",
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description":"Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"array",
                                    "items": {
                                        "$ref":"#/components/schemas/clients"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },

        "/api/web/user/file/get": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Get a user file from the server.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webUserGet"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/files200"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "File could not be read",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/file/put": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Put a user file on the server",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webUserPut"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type":"string",
                                            "example":"File uploaded successfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "File could not be found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/file-tree": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Get a hierarchy of files for the user.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userFileList"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful"
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/file/get-text": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Get data of an user file from server in text format",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webUserGetText"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "fileName": {
                                            "type":"string",
                                            "example":"File"
                                        },
                                        "text": {
                                            "type": "string",
                                            "example": "File contents"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"There is no such file",
                        "content":{
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/rename": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Rename file/folder in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userRename"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder renamed sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/file/delete": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Delete file in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userFileDelete"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File deleted successfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/folder/delete": {
            "post":{
                "tags": [
                    "UserFiles"
                ],
                "summary": "Delete folder in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userFolderDeleteAndCreate"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Folder deleted sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"Folder does not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/folder/create": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Create folder in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userFolderDeleteAndCreate"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Folder created sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"Unknown error while making directory",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/copy": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Copy file or folder in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userCopyAndMove"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder copied sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/user/move": {
            "post": {
                "tags": [
                    "UserFiles"
                ],
                "summary": "Move file or folder in user folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/userCopyAndMove"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder moved sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },

        "/api/web/agent/rename": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Rename file/folder in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentRename"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder renamed sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/file/delete": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Delete file in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentFileDelete"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File deleted sucessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File does not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/folder/delete": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Delete folder in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentFolderDeleteAndCreate"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Folder deleted sucsessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"Folder does not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/folder/create": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Create folder in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentFolderDeleteAndCreate"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Folder created sucsessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"Unknown error while making directory",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/copy": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Copy file or folder in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentCopyAndMove"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder copied succsessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/move": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Move file or folder in agent folder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentCopyAndMove"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example":true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File/folder moved succsessfully."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"File or folder do not exist",
                        "content": {
                            "application/json": {
                                "schema":{
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/file/get": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Get an agent file that is saved on the server",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webAgentGet"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/files200"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "File could not be read",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/file/put": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Put a file for an agent on the server.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webAgentPut"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "message": {
                                            "type":"string",
                                            "example":"Done!"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "File could not be found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/file/get-text": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Get data of an agent file from server in text format",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/webAgentGetText"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "fileName": {
                                            "type":"string",
                                            "example":"File"
                                        },
                                        "text": {
                                            "type": "string",
                                            "example": "File contents"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"There is no such file",
                        "content":{
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/file/get": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Get file from an agent to the agents folder on the server",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/file"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type":"object",
                                    "properties": {
                                        "success": {
                                            "type":"boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type":"string",
                                            "example":"File successfully written."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Could not find file",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/file/put": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Put file from the agents folder on the server to an agent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/file"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "schema": {
                            "type":"object",
                            "properties": {
                                "success": {
                                    "type":"boolean",
                                    "example": true
                                },
                                "message": {
                                    "type":"string",
                                    "example":"File successfully written."
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Could not find file",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/web/agent/file-tree": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Get a hierarchy of files for the specified agent.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/agentFileList"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful"
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/file/direct-put": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Directly put file from user to agent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type":"object",
                                "properties": {
                                    "deviceUid": {
                                        "type": "string",
                                        "example":"54323-6dsag-674-dag"
                                    },
                                    "fileName": {
                                        "type": "string",
                                        "example":"File"
                                    },
                                    "path": {
                                        "type": "string",
                                        "example":"TestFolder"
                                    },
                                    "base64": {
                                        "type":"string"
                                    },
                                    "user": {
                                        "type": "string",
                                        "example":"user@mail.com"
                                    }
                                }
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "schema": {
                            "type":"object",
                            "properties": {
                                "fileName": {
                                    "type":"string",
                                    "example":"File"
                                },
                                "base64": {
                                    "type":"string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/agent/file/direct-get": {
            "post": {
                "tags": [
                    "AgentFiles"
                ],
                "summary": "Directly get file from agent to user",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/file"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successful",
                        "schema": {
                            "type":"object",
                            "properties": {
                                "fileName": {
                                    "type":"string",
                                    "example":"File"
                                },
                                "base64": {
                                    "type":"string"
                                }
                            }
                        }
                    },
                    "404": {
                        "description":"Error",
                        "content":{
                            "application/json": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request body",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid JWT token",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "$ref":"#/components/schemas/error"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "screenshot": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "command": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "command": {
                        "type":"string",
                        "example":"dir"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "agent": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "webAgentGet": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "webAgentPut": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "base64": {
                        "type":"string"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "agentFileList": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "webAgentGetText": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "agentRename": {
                "type":"object",
                "properties": {
                    "deviceUid": {
                        "type":"string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "oldName": {
                        "type":"string",
                        "example":"Folder"
                    },
                    "newName": {
                        "type":"string",
                        "example":"NewFolder"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "agentFolderDeleteAndCreate": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type":"string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "folderName": {
                        "type":"string",
                        "example":"Folder"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "agentFileDelete": {
                "deviceUid": {
                    "type":"string",
                    "example":"54323-6dsag-674-dag"
                },
                "path": {
                    "type":"string",
                    "example":"TestFolder/Folder"
                },
                "fileName": {
                    "type":"string",
                    "example":"File"
                },
                "user": {
                    "type":"string",
                    "example":"user@mail.com"
                }
            },
            "agentCopyAndMove": {
                "type":"object",
                "properties": {
                    "deviceUid": {
                        "type":"string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "oldPath": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "newPath": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "name": {
                        "type":"string",
                        "example":"File"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },

            "webUserGet": {
                "type": "object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "webUserGetText": {
                "type": "object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "webUserPut": {
                "type": "object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "base64": {
                        "type":"string"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "userFileList": {
                "type": "object",
                "properties": {
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "userRename": {
                "type":"object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "oldName": {
                        "type":"string",
                        "example":"Folder"
                    },
                    "newName": {
                        "type":"string",
                        "example":"NewFolder"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "userFolderDeleteAndCreate": {
                "type":"object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "folderName": {
                        "type":"string",
                        "example":"Folder"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "userFileDelete": {
                "type":"object",
                "properties": {
                    "path": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "fileName": {
                        "type":"string",
                        "example":"File"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },
            "userCopyAndMove": {
                "type":"object",
                "properties": {
                    "oldPath": {
                        "type":"string",
                        "example":"TestFolder/Folder"
                    },
                    "newPath": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "name": {
                        "type":"string",
                        "example":"File"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    }
                }
            },

            "file": {
                "type": "object",
                "properties": {
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "user": {
                        "type": "string",
                        "example":"user@mail.com"
                    }
                }
            },
            "disconnected": {
                "type":"object",
                "properties": {
                    "type": {
                        "type":"string",
                        "example":"Waiting"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    },
                    "message": {
                        "type":"string",
                        "example":"User successfully disconnected!"
                    }
                }
            },
            "connected": {
                "type":"object",
                "properties": {
                    "success": {
                        "type":"boolean",
                        "example": true
                    },
                    "type": {
                        "type":"string",
                        "example":"In use"
                    },
                    "user": {
                        "type":"string",
                        "example":"user@mail.com"
                    },
                    "message": {
                        "type":"string",
                        "example":"Connection successful!"
                    }
                }
            },
            "clients": {
                "type": "object",
                "properties": {
                    "name": {
                        "type":"string",
                        "example":"Agent"
                    },
                    "location": {
                        "type":"string",
                        "example": "Location"
                    },
                    "deviceUid": {
                        "type": "string",
                        "example":"54323-6dsag-674-dag"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    },
                    "status": {
                        "type":"string",
                        "example":"Connected"
                    }
                }
            },
            "files200": {
                "type": "object",
                "properties": {
                    "fileName": {
                        "type": "string",
                        "example":"File"
                    },
                    "base64": {
                        "type": "string"
                    }
                }
            },
            "error": {
                "type": "object",
                "properties": {
                    "success": {
                        "type":"boolean",
                        "example":false
                    },
                    "errpr_id": {
                        "type": "integer",
                        "example": 0
                    },
                    "message": {
                        "type": "string",
                        "example":"Error message"
                    }
                }
            },
            "200": {
                "type":"object",
                "properties": {
                    "token": {
                        "type": "string",
                        "example": "Your token"
                    },
                    "message": {
                        "type": "string",
                        "example": "Message"
                    }
                }
            },
            "command200": {
                "type":"object",
                "properties": {
                    "token": {
                        "type": "string",
                        "example": "Your token"
                    },
                    "message": {
                        "type": "string",
                        "example": "Message"
                    },
                    "path": {
                        "type":"string",
                        "example":"TestFolder"
                    }
                }
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    },
    "security": [
        {
            "bearerAuth": []
        }
    ]
}